
% ------------------------------------------------------------------------------
%   Programming
% ------------------------------------------------------------------------------

\usepackage{import}
\usepackage{xparse}
\usepackage{etoolbox}

% IF Statement
\usepackage{xifthen}
\newcommand{\ifeq}[3]{\ifthenelse{\equal{#1}{#2}}{#3}{  }}
\newcommand{\ifne}[3]{\ifthenelse{\equal{#1}{#2}}{  }{#3}}
\newcommand{\ifel}[4]{\ifthenelse{\equal{#1}{#2}}{#3}{#4}}

% SWITCH Statement
\newcommand{\xcase}[2]{#1 #2} % Dummy, so \renewcommand has something to overwrite...
\NewDocumentEnvironment{switch}{m}{\renewcommand{\xcase}{\ifeq{#1}}}{}

% MAP Data Structure
\usepackage{pgfkeys}
\newcommand{\NewMap}[1]{\pgfkeys{/hashmap/#1/.is family, /hashmap/#1/.initial}}
\newcommand{\MapSet}[3]{\pgfkeyssetvalue{/hashmap/#1/#2}{#3}}
\newcommand{\MapGet}[2]{\pgfkeysvalueof{/hashmap/#1/#2}}
\newcommand{\MapHas}[2]{\pgfkeysifdefined{/hashmap/#1/#2}{true}{false}}

% Repeat a String N Times
\makeatletter\newcount\x@repeat@count
\newcommand{\xrepeat}[2]%
{%
    \begingroup%
    \x@repeat@count=\z@%
    \@whilenum\x@repeat@count<#1\do{#2\advance\x@repeat@count\@ne}%
    \endgroup%
}%
\makeatother

% ------------------------------------------------------------------------------
%   Formatting
% ------------------------------------------------------------------------------

% Document
\usepackage{imakeidx}\makeindex

\def\greymode{ \pagecolor[rgb]{0.17,0.17,0.17} \color[rgb]{0.9,0.9,0.9} }
\def\lastpageblank{ \AtEndDocument{\clearpage\null} }

% Fonts
\usepackage{anyfontsize}
\usepackage{lmodern}
\usepackage{newpxtext}

% Page Formatting
\usepackage[many]{tcolorbox}
\usepackage{vwcol}
\usepackage{multicol}
\usepackage{wrapfig}
\usepackage{setspace}
\usepackage{float}

\setlength\multicolsep{0.5\baselineskip}

\makeatletter
\interfootnotelinepenalty=\@M
\makeatother

% Table of Contents Formatting
\usepackage{tocloft}
\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}

% Text Formatting
\usepackage{exercise}
\usepackage{xcolor}

% Break Commands
\newcommand{\forcebreakpage}{\mbox{}\newpage}
\newcommand{\forcebreakparg}{\mbox{}\par}
\newcommand{\forcebreakline}{\mbox{}\newline}

% Force GoodBreak Between Sections (redundant?)
\usepackage[explicit]{titlesec}
\newcommand{\sectionbreak}{\goodbreak}
\newcommand{\subsectionbreak}{\goodbreak}
\newcommand{\subsubsectionbreak}{\goodbreak}

% Paragraph Formatting
\setlength{\parskip}{\the\baselineskip plus \baselineskip minus 0.5\baselineskip}
\setlength{\parindent}{0pt}

% List Formatting
\usepackage[inline,shortlabels]{enumitem}
\usepackage{listings}
\setlist{topsep=0pt}

% ------------------------------------------------------------------------------
%   Commands & Environments
% ------------------------------------------------------------------------------

% Multi-Column Lists
\NewDocumentEnvironment{multicol-itemize}{m}%
{%
    \ifne{#1}{1}{\begin{multicols}{#1}}%
    \begin{itemize}%
}{%
    \end{itemize}%
    \ifne{#1}{1}{\end{multicols}}%
    \vspace{-1\parskip}%
}%
\NewDocumentEnvironment{multicol-enumerate}{m}%
{%
    \ifne{#1}{1}{\begin{multicols}{#1}}%
    \begin{enumerate}%
}{%
    \end{enumerate}%
    \ifne{#1}{1}{\end{multicols}}%
    \vspace{-1\parskip}%
}%

\newcommand{\ul}[1]{\underline{#1}}
